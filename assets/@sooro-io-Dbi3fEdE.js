var E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var l,w;function b(){return w||(w=1,l=o=>{console.warn("[react-gtm-module]",o)}),l}var p,_;function q(){if(_)return p;_=1;var n=o(b());function o(t){return t&&t.__esModule?t:{default:t}}return p={tags:function({id:t,events:e,dataLayer:i,dataLayerName:r,preview:s=void 0,auth:a=void 0,nonce:c=void 0,source:f}){t||(0,n.default)("GTM Id is required");const u=new URL(f),h=a&&s?"&gtm_auth=".concat(a,"&gtm_preview=").concat(s,"&gtm_cookies_win=x"):"",S='\n			<iframe src="'.concat(u.origin,"/ns.html?id=").concat(t).concat(h,'"\n				height="0" width="0" style="display:none;visibility:hidden" id="tag-manager"></iframe>'),T="\n			(function(w,d,s,l,i){w[l]=w[l]||[];\n				w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'}".concat(e.length>0?","+JSON.stringify(e).slice(1,-1):"",");\n				var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';\n				j.async=true;\n				j.src='").concat(f,"?id='+i+dl+'").concat(h,"';\n				").concat(c?"j.setAttribute('nonce','".concat(c,"');"):"","\n				f.parentNode.insertBefore(j,f);\n			})(window,document,'script','").concat(r,"','").concat(t,"');"),$=this.dataLayer(i,r);return{iframe:S,script:T,dataLayerVar:$}},dataLayer:function(t,e){return"\n			window.".concat(e," = window.").concat(e," || [];\n			window.").concat(e,".push(").concat(JSON.stringify(t),")")}},p}var g,y;function j(){if(y)return g;y=1;var n=o(q());function o(t){return t&&t.__esModule?t:{default:t}}return g={dataScript:function(t,e,i){const r=document.createElement("script");return r.innerHTML=t,r.setAttribute("data-testid",e),i&&r.setAttribute("nonce",i),r},gtm:function(t){const e=n.default.tags(t),i=()=>{const a=document.createElement("noscript");return a.innerHTML=e.iframe,a},r=()=>{const a=document.createElement("script");return a.innerHTML=e.script,t.nonce&&a.setAttribute("nonce",t.nonce),a},s=this.dataScript(e.dataLayerVar,t.dataLayerName,t.nonce);return{noScript:i,script:r,dataScript:s}},initialize:function({gtmId:t,events:e=[],dataLayer:i=void 0,dataLayerName:r="dataLayer",auth:s=void 0,preview:a=void 0,nonce:c=void 0,source:f="https://googletagmanager.com/gtm.js"}){const u=this.gtm({id:t,events:e,dataLayer:i,dataLayerName:r,auth:s,preview:a,nonce:c,source:f});i&&document.head.appendChild(u.dataScript),document.head.insertBefore(u.script(),document.head.childNodes[0]),document.body.insertBefore(u.noScript(),document.body.childNodes[0])},dataLayer:function({dataLayer:t,dataLayerName:e="dataLayer"}){if(window[e])return window[e].push(t);const i=n.default.dataLayer(t,e),r=this.dataScript(i,e);document.head.insertBefore(r,document.head.childNodes[0])}},g}var m,v;function R(){if(v)return m;v=1;var n=o(j());function o(d){return d&&d.__esModule?d:{default:d}}return m=n.default,m}var D=R();const L=M(D);export{L as T,E as c,M as g};
